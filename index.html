<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAYAT HOTEL & RESTAURANT - Digital Menu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-red: #c52c2c;
            --dark-bg: #000000;
            --light-bg: #111111;
            --card-bg: #1a1a1a;
            --white: #ffffff;
            --gray: #888888;
            --light-gray: #444444;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--dark-bg);
            color: var(--white);
            line-height: 1.6;
        }
        
        .urdu-font {
            font-family: 'Noto Nastaliq Urdu', serif;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header Styles */
        header {
            background-color: var(--light-bg);
            padding: 15px 0;
            border-bottom: 2px solid var(--primary-red);
            text-align: center;
        }
        
        .logo-container {
            margin-bottom: 10px;
        }
        
        .logo {
            max-width: 180px;
            height: auto;
            filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.2));
        }
        
        .hotel-name {
            font-size: 1.8rem;
            color: var(--primary-red);
            font-weight: 700;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }
        
        .hotel-address {
            font-size: 0.95rem;
            color: var(--gray);
            margin-bottom: 15px;
        }
        
        /* Social Media Bar */
        .social-media-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--card-bg);
            color: var(--white);
            font-size: 1.1rem;
            transition: all 0.3s ease;
            text-decoration: none;
            border: 1px solid var(--light-gray);
        }
        
        .social-icon:hover {
            background-color: var(--primary-red);
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(197, 44, 44, 0.3);
        }
        
        .social-icon.website {
            background-color: var(--primary-red);
        }
        
        .social-icon.website:hover {
            background-color: #a82323;
        }
        
        .social-icon.tiktok:hover {
            background-color: #000000;
        }
        
        .social-icon.facebook:hover {
            background-color: #1877F2;
        }
        
        .social-icon.instagram:hover {
            background: linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D);
        }
        
        .social-icon.whatsapp:hover {
            background-color: #25D366;
        }
        
        .social-icon.youtube:hover {
            background-color: #FF0000;
        }
        
        .social-icon.google:hover {
            background-color: #4285F4;
        }
        
        /* Category Navigation */
        .categories {
            position: sticky;
            top: 0;
            background-color: var(--light-bg);
            z-index: 100;
            padding: 15px 0;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .categories-scroll {
            display: flex;
            overflow-x: auto;
            padding-bottom: 5px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-red) var(--light-bg);
        }
        
        .categories-scroll::-webkit-scrollbar {
            height: 5px;
        }
        
        .categories-scroll::-webkit-scrollbar-track {
            background: var(--light-bg);
        }
        
        .categories-scroll::-webkit-scrollbar-thumb {
            background-color: var(--primary-red);
            border-radius: 10px;
        }
        
        .category-btn {
            background-color: var(--card-bg);
            color: var(--white);
            border: 1px solid var(--light-gray);
            padding: 10px 18px;
            margin-right: 10px;
            border-radius: 30px;
            font-size: 0.9rem;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .category-btn:hover, .category-btn.active {
            background-color: var(--primary-red);
            border-color: var(--primary-red);
        }
        
        .category-btn i {
            margin-right: 5px;
        }
        
        /* Menu Items */
        .menu-section {
            padding: 30px 0;
            display: none;
        }
        
        .menu-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .section-title {
            font-size: 1.8rem;
            color: var(--primary-red);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-red);
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-right: 10px;
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .menu-item-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid var(--light-gray);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }
        
        .menu-item-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(197, 44, 44, 0.2);
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .item-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--white);
        }
        
        .item-name-urdu {
            font-size: 1.1rem;
            color: var(--gray);
            margin-top: 5px;
            line-height: 1.4;
        }
        
        .item-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-red);
            white-space: nowrap;
        }
        
        .item-description {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .item-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .add-to-cart-btn {
            background-color: var(--primary-red);
            color: var(--white);
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .add-to-cart-btn:hover {
            background-color: #a82323;
        }
        
        .favorite-btn {
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.2rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .favorite-btn.active {
            color: var(--primary-red);
        }
        
        .favorite-btn:hover {
            color: var(--primary-red);
        }
        
        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background-color: var(--light-bg);
            z-index: 1000;
            transition: right 0.4s ease;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
        }
        
        .cart-sidebar.open {
            right: 0;
        }
        
        .cart-header {
            background-color: var(--primary-red);
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cart-title {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .close-cart {
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        .cart-item {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary-red);
        }
        
        .cart-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .cart-item-name {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .cart-item-price {
            color: var(--primary-red);
            font-weight: 600;
        }
        
        .cart-item-options {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .cart-item-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
        }
        
        .quantity-btn {
            background-color: var(--light-gray);
            color: var(--white);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .quantity {
            margin: 0 10px;
            font-weight: 600;
        }
        
        .remove-item {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
        }
        
        .cart-footer {
            padding: 20px;
            border-top: 1px solid var(--light-gray);
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .customer-form {
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            background-color: var(--card-bg);
            border: 1px solid var(--light-gray);
            border-radius: 5px;
            color: var(--white);
            font-size: 1rem;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: var(--primary-red);
        }
        
        .whatsapp-order-btn {
            width: 100%;
            background-color: #25D366;
            color: white;
            border: none;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s ease;
        }
        
        .whatsapp-order-btn:hover {
            background-color: #1da851;
        }
        
        .whatsapp-order-btn i {
            margin-right: 10px;
            font-size: 1.3rem;
        }
        
        /* Cart Button */
        .cart-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: var(--primary-red);
            color: var(--white);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 100;
            transition: transform 0.3s ease;
        }
        
        .cart-button:hover {
            transform: scale(1.1);
        }
        
        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--white);
            color: var(--primary-red);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8rem;
            font-weight: 700;
        }
        
        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal {
            background-color: var(--light-bg);
            width: 90%;
            max-width: 500px;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: var(--primary-red);
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--white);
        }
        
        .option-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .option-btn {
            padding: 10px 15px;
            background-color: var(--card-bg);
            border: 1px solid var(--light-gray);
            color: var(--white);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option-btn.active {
            background-color: var(--primary-red);
            border-color: var(--primary-red);
        }
        
        .modal-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .add-to-cart-modal {
            background-color: var(--primary-red);
            color: var(--white);
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .add-to-cart-modal:hover {
            background-color: #a82323;
        }
        
        .cancel-modal {
            background-color: var(--light-gray);
            color: var(--white);
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .cancel-modal:hover {
            background-color: var(--gray);
        }
        
        /* Thank You Popup */
        .thank-you-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        
        .thank-you-popup.active {
            display: flex;
            animation: fadeIn 0.5s ease;
        }
        
        .thank-you-content {
            background-color: var(--light-bg);
            padding: 40px;
            border-radius: 10px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 2px solid var(--primary-red);
        }
        
        .thank-you-icon {
            font-size: 4rem;
            color: var(--primary-red);
            margin-bottom: 20px;
        }
        
        .thank-you-title {
            font-size: 2rem;
            color: var(--white);
            margin-bottom: 10px;
        }
        
        .thank-you-message {
            font-size: 1.2rem;
            color: var(--gray);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .menu-grid {
                grid-template-columns: 1fr;
            }
            
            .cart-sidebar {
                max-width: 100%;
            }
            
            .hotel-name {
                font-size: 1.5rem;
            }
            
            .social-media-bar {
                gap: 10px;
            }
            
            .social-icon {
                width: 32px;
                height: 32px;
                font-size: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .category-btn {
                padding: 8px 15px;
                font-size: 0.8rem;
            }
            
            .cart-button {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .social-media-bar {
                gap: 8px;
            }
            
            .social-icon {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 360px) {
            .social-media-bar {
                gap: 6px;
            }
            
            .social-icon {
                width: 28px;
                height: 28px;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo-container">
                <img src="https://raw.githubusercontent.com/HayatHotel/restaurant-menu-order/2e5a211dca888ff6c04880b2db970e84674a7682/URDU-LOGO.png" alt="Hayat Hotel Logo" class="logo">
            </div>
            <h1 class="hotel-name">HAYAT HOTEL & RESTAURANT</h1>
            <p class="hotel-address">Saboon Chock, Mela Ground, Hayat Tower</p>
            
            <!-- Social Media Bar -->
            <div class="social-media-bar">
                <!-- 1. TikTok -->
                <a href="https://tiktok.com/@hayat_hotel_restaurant" target="_blank" class="social-icon tiktok" title="Follow us on TikTok">
                    <i class="fab fa-tiktok"></i>
                </a>
                
                <!-- 2. Facebook -->
                <a href="https://facebook.com/hayathotelrestaurantTMG" target="_blank" class="social-icon facebook" title="Like us on Facebook">
                    <i class="fab fa-facebook-f"></i>
                </a>
                
                <!-- 3. Website -->
                <a href="https://hayathotel.com.pk" target="_blank" class="social-icon website" title="Visit our Website">
                    <i class="fas fa-globe"></i>
                </a>
                
                <!-- 4. Instagram -->
                <a href="https://instagram.com/hayat_hotel_official" target="_blank" class="social-icon instagram" title="Follow us on Instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                
                <!-- 5. WhatsApp Channel -->
                <a href="https://whatsapp.com/channel/0029VbAC12O42DcgBgyBgG0p" target="_blank" class="social-icon whatsapp" title="Join our WhatsApp Channel">
                    <i class="fab fa-whatsapp"></i>
                </a>
                
                <!-- 6. YouTube -->
                <a href="https://www.youtube.com/@HayatHotelandRestaurant" target="_blank" class="social-icon youtube" title="Subscribe on YouTube">
                    <i class="fab fa-youtube"></i>
                </a>
                
                <!-- 7. Google Review -->
                <a href="https://g.page/r/CbI8xseFnhbyvbXZXs/review" target="_blank" class="social-icon google" title="Leave us a Google Review">
                    <i class="fab fa-google"></i>
                </a>
            </div>
        </div>
    </header>
    
    <!-- Category Navigation -->
    <section class="categories">
        <div class="container">
            <div class="categories-scroll" id="categoryNav">
                <!-- Categories will be populated by JavaScript -->
            </div>
        </div>
    </section>
    
    <!-- Menu Sections -->
    <main class="container">
        <!-- Favorites Section -->
        <section id="favorites" class="menu-section active">
            <h2 class="section-title"><i class="fas fa-heart"></i> Favorites ❤️</h2>
            <div class="menu-grid" id="favorites-grid">
                <!-- Favorites items will be populated by JavaScript -->
                <div class="empty-favorites">
                    <p>No favorites yet. Click the heart icon on any menu item to add it here.</p>
                </div>
            </div>
        </section>
        
        <!-- Pakistani Section -->
        <section id="pakistani" class="menu-section">
            <h2 class="section-title"><i class="fas fa-utensils"></i> Pakistani</h2>
            <div class="menu-grid" id="pakistani-grid">
                <!-- Pakistani items will be populated by JavaScript -->
            </div>
        </section>
        
        <!-- Tandoor Section -->
        <section id="tandoor" class="menu-section">
            <h2 class="section-title"><i class="fas fa-fire"></i> Tandoor</h2>
            <div class="menu-grid" id="tandoor-grid">
                <!-- Tandoor items will be populated by JavaScript -->
            </div>
        </section>
        
        <!-- Chinese Section -->
        <section id="chinese" class="menu-section">
            <h2 class="section-title"><i class="fas fa-utensil-spoon"></i> Chinese</h2>
            <div class="menu-grid" id="chinese-grid">
                <!-- Chinese items will be populated by JavaScript -->
            </div>
        </section>
        
        <!-- Sweets & Salads Section -->
        <section id="sweets-salads" class="menu-section">
            <h2 class="section-title"><i class="fas fa-ice-cream"></i> Sweets & Salads</h2>
            <div class="menu-grid" id="sweets-salads-grid">
                <!-- Sweets & Salads items will be populated by JavaScript -->
            </div>
        </section>
        
        <!-- BBQ Section -->
        <section id="bbq" class="menu-section">
            <h2 class="section-title"><i class="fas fa-drumstick-bite"></i> BBQ</h2>
            <div class="menu-grid" id="bbq-grid">
                <!-- BBQ items will be populated by JavaScript -->
            </div>
        </section>
        
        <!-- Fast Food Section -->
        <section id="fast-food" class="menu-section">
            <h2 class="section-title"><i class="fas fa-hamburger"></i> Fast Food</h2>
            <div class="menu-grid" id="fast-food-grid">
                <!-- Fast Food items will be populated by JavaScript -->
            </div>
        </section>
        
        <!-- Pizzas Section -->
        <section id="pizzas" class="menu-section">
            <h2 class="section-title"><i class="fas fa-pizza-slice"></i> Pizzas</h2>
            <div class="menu-grid" id="pizzas-grid">
                <!-- Pizzas items will be populated by JavaScript -->
            </div>
        </section>
    </main>
    
    <!-- Cart Button -->
    <div class="cart-button" id="cartButton">
        <i class="fas fa-shopping-cart"></i>
        <div class="cart-count" id="cartCount">0</div>
    </div>
    
    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3 class="cart-title">Your Order</h3>
            <button class="close-cart" id="closeCart">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be populated by JavaScript -->
            <div class="empty-cart">
                <p>Your cart is empty. Add items from the menu.</p>
            </div>
        </div>
        
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">0 PKR</span>
            </div>
            
            <div class="customer-form">
                <div class="form-group">
                    <label for="customerName">Your Name *</label>
                    <input type="text" id="customerName" placeholder="Enter your name" required>
                </div>
                <div class="form-group">
                    <label for="customerPhone">Phone Number (Optional)</label>
                    <input type="tel" id="customerPhone" placeholder="+92 300 1234567">
                </div>
                <div class="form-group">
                    <label for="customerRoomTable">Room/Table/Address *</label>
                    <input type="text" id="customerRoomTable" placeholder="e.g., Room 101 or Table 5" required>
                </div>
                <div class="form-group">
                    <label for="customerNotes">Special Instructions (Optional)</label>
                    <input type="text" id="customerNotes" placeholder="e.g., Less spicy, extra sauce, etc.">
                </div>
            </div>
            
            <button class="whatsapp-order-btn" id="whatsappOrderBtn">
                <i class="fab fa-whatsapp"></i> Send Order via WhatsApp
            </button>
        </div>
    </div>
    
    <!-- Item Options Modal -->
    <div class="modal-overlay" id="itemModalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modalItemName">Item Name</h3>
                <button class="close-modal" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="option-group" id="sizeOptions">
                    <!-- Size options will be populated by JavaScript -->
                </div>
                
                <div class="option-group" id="typeOptions">
                    <!-- Type options will be populated by JavaScript -->
                </div>
                
                <div class="modal-actions">
                    <button class="cancel-modal" id="cancelModal">Cancel</button>
                    <button class="add-to-cart-modal" id="addToCartModal">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Thank You Popup -->
    <div class="thank-you-popup" id="thankYouPopup">
        <div class="thank-you-content">
            <div class="thank-you-icon">
                <i class="fas fa-heart"></i>
            </div>
            <h2 class="thank-you-title">Thank You!</h2>
            <p class="thank-you-message">Thanks for Trusting HAYAT :)</p>
        </div>
    </div>
    
    <script>
        // Menu Data
        const menuData = {
            favorites: {
                id: 'favorites',
                name: 'Favorites ❤️',
                icon: 'fa-heart',
                items: []
            },
            pakistani: {
                id: 'pakistani',
                name: 'Pakistani',
                icon: 'fa-utensils',
                items: [
                    { id: 1, name: 'Chicken Musallam', urduName: 'چکن مصلم', description: '', prices: [{label: 'Full', price: 2200}] },
                    { id: 2, name: 'Chicken Karahi White', urduName: 'چکن کڑاہی سفید', description: '', prices: [{label: 'Half', price: 1000}, {label: 'Full', price: 1900}] },
                    { id: 3, name: 'Chicken Karahi Red', urduName: 'چکن کڑاہی سرخ', description: '', prices: [{label: 'Half', price: 1000}, {label: 'Full', price: 1900}] },
                    { id: 4, name: 'Chicken Karahi Achari', urduName: 'چکن کڑاہی اچاری', description: '', prices: [{label: 'Half', price: 1100}, {label: 'Full', price: 2000}] },
                    { id: 5, name: 'Chicken Handi White', urduName: 'چکن ہانڈی سفید', description: '', prices: [{label: 'Half', price: 1100}, {label: 'Full', price: 2000}] },
                    { id: 6, name: 'Chicken Handi Red', urduName: 'چکن ہانڈی سرخ', description: '', prices: [{label: 'Half', price: 1100}, {label: 'Full', price: 2000}] },
                    { id: 7, name: 'Chicken Handi Achari', urduName: 'چکن ہانڈی اچاری', description: '', prices: [{label: 'Half', price: 1150}, {label: 'Full', price: 2050}] },
                    { id: 8, name: 'Chicken Handi Jalfrezi', urduName: 'چکن ہانڈی جالفرازی', description: '', prices: [{label: 'Half', price: 1150}, {label: 'Full', price: 2050}] },
                    { id: 9, name: 'Mutton Shinwari Karahi', urduName: 'مٹن شنواری کڑاہی', description: '', prices: [{label: 'Half', price: 1600}, {label: 'Full', price: 3200}] },
                    { id: 10, name: 'Mutton Sulamani Karahi', urduName: 'مٹن سلیمانی کڑاہی', description: '', prices: [{label: 'Half', price: 1600}, {label: 'Full', price: 3200}] },
                    { id: 11, name: 'Afghan Tikka Karahi', urduName: 'افغان تکہ کڑاہی', description: '', prices: [{label: 'Full', price: 1600}] },
                    { id: 12, name: 'Beef Shinwari Karahi', urduName: 'بیف شنواری کڑاہی', description: '', prices: [{label: 'Half', price: 1200}, {label: 'Full', price: 2400}] },
                    { id: 13, name: 'Namkeen Rosh', urduName: 'نمکین روغ', description: '', prices: [{label: 'Full', price: 700}] },
                    { id: 14, name: 'Chicken Tandoori Masala', urduName: 'چکن تندوری مصالحہ', description: '', prices: [{label: 'Half', price: 600}, {label: 'Full', price: 1200}] },
                    { id: 15, name: 'Seekh Kabab Masala', urduName: 'سیخ کباب مصالحہ', description: '', prices: [{label: 'Half', price: 600}, {label: 'Full', price: 1200}] },
                    { id: 16, name: 'Dal Mash', urduName: 'دال ماش', description: '', prices: [{label: 'Regular', price: 300}] },
                    { id: 17, name: 'Mix Vegetable', urduName: 'مکس سبزی', description: '', prices: [{label: 'Regular', price: 300}] },
                    { id: 18, name: 'Chicken Biryani', urduName: 'چکن بریانی', description: '', prices: [{label: 'Half', price: 300}, {label: 'Full', price: 550}] },
                    { id: 19, name: 'Kabuli Paluo', urduName: 'کابلی پلاؤ', description: '', prices: [{label: 'Half', price: 300}, {label: 'Full', price: 700}] }
                ]
            },
            tandoor: {
                id: 'tandoor',
                name: 'Tandoor',
                icon: 'fa-fire',
                items: [
                    { id: 20, name: 'Roti', urduName: 'روٹی', description: '', prices: [{label: 'Per Piece', price: 30}] },
                    { id: 21, name: 'Nan', urduName: 'نان', description: '', prices: [{label: 'Per Piece', price: 40}] },
                    { id: 22, name: 'Roghani Nan', urduName: 'روغنی نان', description: '', prices: [{label: 'Per Piece', price: 80}] },
                    { id: 23, name: 'Kalwanji Nan', urduName: 'کلونجی نان', description: '', prices: [{label: 'Per Piece', price: 80}] },
                    { id: 24, name: 'Parata', urduName: 'پراٹھا', description: '', prices: [{label: 'Per Piece', price: 80}] },
                    { id: 25, name: 'Garlic Nan', urduName: 'گارلک نان', description: '', prices: [{label: 'Per Piece', price: 100}] },
                    { id: 26, name: 'Qeema Nan', urduName: 'قیمہ نان', description: '', prices: [{label: 'Per Piece', price: 250}] },
                    { id: 27, name: 'Alu Nan', urduName: 'آلو نان', description: '', prices: [{label: 'Per Piece', price: 150}] },
                    { id: 28, name: 'Mix Basket', urduName: 'مکس باسکٹ', description: '', prices: [{label: 'Basket', price: 350}] }
                ]
            },
            chinese: {
                id: 'chinese',
                name: 'Chinese',
                icon: 'fa-utensil-spoon',
                items: [
                    { id: 29, name: 'Chicken Chowmein', urduName: 'چکن چاؤمین', description: '', prices: [{label: 'Full', price: 750}] },
                    { id: 30, name: 'Vegetable Chowmein', urduName: 'سبزی چاؤمین', description: '', prices: [{label: 'Full', price: 550}] },
                    { id: 31, name: 'Hayat Special Rice', urduName: 'حیات اسپیشل رائس', description: '', prices: [{label: 'Full', price: 700}] },
                    { id: 32, name: 'Chicken Rice', urduName: 'چکن رائس', description: '', prices: [{label: 'Full', price: 600}] },
                    { id: 33, name: 'Vegetable Rice', urduName: 'سبزی رائس', description: '', prices: [{label: 'Full', price: 450}] },
                    { id: 34, name: 'Hayat Special Gravy with Rice', urduName: 'حیات اسپیشل گریوی رائس', description: '', prices: [{label: 'Full', price: 1200}] },
                    { id: 35, name: 'Mongolian Chicken with Rice', urduName: 'منگولین چکن رائس', description: '', prices: [{label: 'Full', price: 1000}] },
                    { id: 36, name: 'Chicken Manchurian with Rice', urduName: 'چکن مانچورین رائس', description: '', prices: [{label: 'Full', price: 1000}] },
                    { id: 37, name: 'Beef Chilli Dry with Rice', urduName: 'بیف چلی ڈرائی رائس', description: '', prices: [{label: 'Full', price: 1200}] },
                    { id: 38, name: 'Hayat Special Soup', urduName: 'حیات اسپیشل سوپ', description: '', prices: [{label: 'Single', price: 300}, {label: 'Half', price: 600}, {label: 'Full', price: 1200}] },
                    { id: 39, name: 'Chicken Corn Soup', urduName: 'چکن کارن سوپ', description: '', prices: [{label: 'Single', price: 250}, {label: 'Half', price: 500}, {label: 'Full', price: 1000}] },
                    { id: 40, name: 'Hot & Sour Soup', urduName: 'ہاٹ اینڈ ساور سوپ', description: '', prices: [{label: 'Single', price: 250}, {label: 'Half', price: 500}, {label: 'Full', price: 1000}] },
                    { id: 41, name: 'Vegetable Soup', urduName: 'سبزی سوپ', description: '', prices: [{label: 'Single', price: 200}, {label: 'Half', price: 400}, {label: 'Full', price: 800}] },
                    { id: 42, name: 'Chicken Penne Pasta', urduName: 'چکن پینی پاستا', description: '', prices: [{label: 'Full', price: 800}] },
                    { id: 43, name: 'Alfredo Pasta', urduName: 'الفریڈو پاستا', description: '', prices: [{label: 'Full', price: 800}] },
                    { id: 44, name: 'Mexican Steak Beef', urduName: 'میکسیکن سٹیک بیف', description: '', prices: [{label: 'Full', price: 1600}] },
                    { id: 45, name: 'Mexican Steak Chicken', urduName: 'میکسیکن سٹیک چکن', description: '', prices: [{label: 'Full', price: 1400}] },
                    { id: 46, name: 'Mushroom Steak Beef', urduName: 'مشرووم سٹیک بیف', description: '', prices: [{label: 'Full', price: 1600}] },
                    { id: 47, name: 'Mushroom Steak Chicken', urduName: 'مشرووم سٹیک چکن', description: '', prices: [{label: 'Full', price: 1400}] }
                ]
            },
            'sweets-salads': {
                id: 'sweets-salads',
                name: 'Sweets & Salads',
                icon: 'fa-ice-cream',
                items: [
                    { id: 48, name: 'Raita', urduName: 'رائتا', description: '', prices: [{label: 'Regular', price: 100}] },
                    { id: 49, name: 'Fresh Salad', urduName: 'تازہ سلاد', description: '', prices: [{label: 'Regular', price: 100}] },
                    { id: 50, name: 'Russian Salad', urduName: 'رشین سلاد', description: '', prices: [{label: 'Regular', price: 500}] },
                    { id: 51, name: 'Chicken Salad', urduName: 'چکن سلاد', description: '', prices: [{label: 'Regular', price: 400}] },
                    { id: 52, name: 'Kachumber Salad', urduName: 'کچمبر سلاد', description: '', prices: [{label: 'Regular', price: 300}] },
                    { id: 53, name: 'Hayat Special Ice Cream', urduName: 'حیات اسپیشل آئس کریم', description: '', prices: [{label: 'Regular', price: 250}] },
                    { id: 54, name: 'Lab E Sherien', urduName: 'لب شیرین', description: '', prices: [{label: 'Regular', price: 300}] },
                    { id: 55, name: 'Hayat Special Kheer', urduName: 'حیات اسپیشل کھیر', description: '', prices: [{label: 'Regular', price: 200}] },
                    { id: 56, name: 'Custard', urduName: 'کسٹرڈ', description: '', prices: [{label: 'Regular', price: 150}] },
                    { id: 57, name: 'Banana Shake', urduName: 'کیلے کا شیک', description: '', prices: [{label: 'Glass', price: 250}] },
                    { id: 58, name: 'Apple Shake', urduName: 'سیب کا شیک', description: '', prices: [{label: 'Glass', price: 250}] },
                    { id: 59, name: 'Strawberry Shake', urduName: 'اسٹرابیری شیک', description: '', prices: [{label: 'Glass', price: 300}] },
                    { id: 60, name: 'Mango Shake', urduName: 'آم کا شیک', description: '', prices: [{label: 'Glass', price: 250}] },
                    { id: 61, name: 'Ice Cream Shake', urduName: 'آئس کریم شیک', description: '', prices: [{label: 'Glass', price: 300}] },
                    { id: 62, name: 'Green Tea', urduName: 'گرین ٹی', description: '', prices: [{label: 'Cup', price: 50}] },
                    { id: 63, name: 'Chai', urduName: 'چائے', description: '', prices: [{label: 'Cup', price: 120}] },
                    { id: 64, name: 'Namkeen Lassi', urduName: 'نمکین لسی', description: '', prices: [{label: 'Glass', price: 150}] },
                    { id: 65, name: 'Sweet Lassi', urduName: 'میٹھی لسی', description: '', prices: [{label: 'Glass', price: 150}] },
                    { id: 66, name: 'Mint Margarita', urduName: 'مینٹ مارگریٹا', description: '', prices: [{label: 'Glass', price: 200}] },
                    { id: 67, name: 'Lemonade', urduName: 'لیموں پانی', description: '', prices: [{label: 'Glass', price: 250}] }
                ]
            },
            bbq: {
                id: 'bbq',
                name: 'BBQ',
                icon: 'fa-drumstick-bite',
                items: [
                    { id: 68, name: 'Whole Lamb Sajji', urduName: 'پورا لیمب سجی', description: '', prices: [{label: 'Per KG', price: 3200}] },
                    { id: 69, name: 'Chicken Tikka', urduName: 'چکن تکہ', description: '', prices: [{label: 'Full', price: 450}] },
                    { id: 70, name: 'Chicken Boti 8P', urduName: 'چکن بوٹی 8پیس', description: '', prices: [{label: 'Full', price: 900}] },
                    { id: 71, name: 'Malai Boti 8P', urduName: 'ملائی بوٹی 8پیس', description: '', prices: [{label: 'Full', price: 1050}] },
                    { id: 72, name: 'Kastori Boti 8P', urduName: 'کستوری بوٹی 8پیس', description: '', prices: [{label: 'Full', price: 1100}] },
                    { id: 73, name: 'Drum Stick 6P', urduName: 'ڈرم سٹک 6پیس', description: '', prices: [{label: 'Full', price: 1200}] },
                    { id: 74, name: 'Seekh Kabab', urduName: 'سیخ کباب', description: '', prices: [{label: 'Full', price: 850}] },
                    { id: 75, name: 'Reshmi Kabab', urduName: 'رشمی کباب', description: '', prices: [{label: 'Full', price: 800}] },
                    { id: 76, name: 'Afghani Seekh Tikka', urduName: 'افغانی سیخ تکہ', description: '', prices: [{label: 'Full', price: 1400}] },
                    { id: 77, name: 'Fish Tikka 8P', urduName: 'فش تکہ 8پیس', description: '', prices: [{label: 'Full', price: 1600}] },
                    { id: 78, name: 'Grill Fish', urduName: 'گرل فش', description: '', prices: [{label: 'Full', price: 1200}] },
                    { id: 79, name: 'Grill Chicken with Rice', urduName: 'گرل چکن رائس', description: '', prices: [{label: 'Full', price: 1800}] },
                    { id: 80, name: 'DEGI Chicken Charga with Rice', urduName: 'ڈیگی چکن چرغہ رائس', description: '', prices: [{label: 'Full', price: 1800}] },
                    { id: 81, name: 'Mutton Namkeen Tikka', urduName: 'مٹن نمکین تکہ', description: '', prices: [{label: 'Full', price: 3250}] },
                    { id: 82, name: 'BBQ Special Platter', urduName: 'باربی کیو اسپیشل پلیٹر', description: '', prices: [{label: 'Quarter', price: 2200}, {label: 'Half', price: 4800}, {label: 'Full', price: 8000}] },
                    { id: 83, name: 'BBQ Grand Platter', urduName: 'باربی کیو گرینڈ پلیٹر', description: '', prices: [{label: 'Half', price: 7000}, {label: 'Full', price: 12000}] }
                ]
            },
            'fast-food': {
                id: 'fast-food',
                name: 'Fast Food',
                icon: 'fa-hamburger',
                items: [
                    { id: 84, name: 'Chicken Broast', urduName: 'چکن بروسٹ', description: '', prices: [{label: 'Half', price: 900}, {label: 'Full', price: 1800}] },
                    { id: 85, name: 'Finger Fish 6P', urduName: 'فنگر فش 6پیس', description: '', prices: [{label: 'Half', price: 650}, {label: 'Full', price: 1300}] },
                    { id: 86, name: 'Finger Chicken 6P', urduName: 'فنگر چکن 6پیس', description: '', prices: [{label: 'Half', price: 500}, {label: 'Full', price: 1000}] },
                    { id: 87, name: 'Fries', urduName: 'فرائز', description: '', prices: [{label: 'Regular', price: 200}] },
                    { id: 88, name: 'Loaded Fries', urduName: 'لوڈڈ فرائز', description: '', prices: [{label: 'Regular', price: 350}] },
                    { id: 89, name: 'Shawarma', urduName: 'شاورما', description: '', prices: [{label: 'Per Piece', price: 200}] },
                    { id: 90, name: 'Chicken Burger', urduName: 'چکن برگر', description: '', prices: [{label: 'Per Piece', price: 350}] },
                    { id: 91, name: 'Zinger Burger', urduName: 'زنجر برگر', description: '', prices: [{label: 'Per Piece', price: 450}] },
                    { id: 92, name: 'Hayat Special Burger', urduName: 'حیات اسپیشل برگر', description: '', prices: [{label: 'Per Piece', price: 550}] },
                    { id: 93, name: 'Loaded Burger', urduName: 'لوڈڈ برگر', description: '', prices: [{label: 'Per Piece', price: 600}] },
                    { id: 94, name: 'Chicken Sandwich', urduName: 'چکن سینڈوچ', description: '', prices: [{label: 'Per Piece', price: 350}] },
                    { id: 95, name: 'Club Sandwich', urduName: 'کلب سینڈوچ', description: '', prices: [{label: 'Per Piece', price: 400}] }
                ]
            },
            pizzas: {
                id: 'pizzas',
                name: 'Pizzas',
                icon: 'fa-pizza-slice',
                items: [
                    { id: 96, name: 'Crown Crust Pizza', urduName: 'کراون کرست پیزا', description: '', prices: [{label: 'Small', price: 750}, {label: 'Medium', price: 1250}, {label: 'Large', price: 1850}] },
                    { id: 97, name: 'Stuff Pizza', urduName: 'سٹف پیزا', description: '', prices: [{label: 'Small', price: 750}, {label: 'Medium', price: 1250}, {label: 'Large', price: 1850}] },
                    { id: 98, name: 'Regular Pizza', urduName: 'ریگولر پیزا', description: '', prices: [{label: 'Small', price: 600}, {label: 'Medium', price: 1100}, {label: 'Large', price: 1700}] },
                    { id: 99, name: '3 Season Pizza', urduName: 'تھری سیزن پیزا', description: '', prices: [{label: 'Small', price: 800}, {label: 'Medium', price: 1400}, {label: 'Large', price: 2000}] }
                ]
            }
        };

        // App State
        let currentCategory = 'favorites';
        let currentItem = null;
        let selectedOptions = {};
        let cart = JSON.parse(localStorage.getItem('hayatCart')) || [];
        let favorites = JSON.parse(localStorage.getItem('hayatFavorites')) || [];
        let customerOrderCounts = JSON.parse(localStorage.getItem('hayatCustomerOrders')) || {};

        // DOM Elements
        const categoryNav = document.getElementById('categoryNav');
        const menuSections = document.querySelectorAll('.menu-section');
        const cartButton = document.getElementById('cartButton');
        const cartSidebar = document.getElementById('cartSidebar');
        const closeCart = document.getElementById('closeCart');
        const cartItems = document.getElementById('cartItems');
        const cartCount = document.getElementById('cartCount');
        const cartTotal = document.getElementById('cartTotal');
        const customerName = document.getElementById('customerName');
        const customerPhone = document.getElementById('customerPhone');
        const customerRoomTable = document.getElementById('customerRoomTable');
        const customerNotes = document.getElementById('customerNotes');
        const whatsappOrderBtn = document.getElementById('whatsappOrderBtn');
        const itemModalOverlay = document.getElementById('itemModalOverlay');
        const closeModal = document.getElementById('closeModal');
        const cancelModal = document.getElementById('cancelModal');
        const addToCartModal = document.getElementById('addToCartModal');
        const modalItemName = document.getElementById('modalItemName');
        const sizeOptions = document.getElementById('sizeOptions');
        const typeOptions = document.getElementById('typeOptions');
        const thankYouPopup = document.getElementById('thankYouPopup');

        // Initialize App
        function initApp() {
            renderCategoryNav();
            renderMenuItems();
            updateFavorites();
            updateCart();
            attachEventListeners();
        }

        // Render Category Navigation
        function renderCategoryNav() {
            categoryNav.innerHTML = '';
            
            Object.values(menuData).forEach(category => {
                const button = document.createElement('button');
                button.className = `category-btn ${category.id === currentCategory ? 'active' : ''}`;
                button.innerHTML = `<i class="fas ${category.icon}"></i> ${category.name}`;
                button.dataset.category = category.id;
                
                button.addEventListener('click', () => {
                    switchCategory(category.id);
                });
                
                categoryNav.appendChild(button);
            });
        }

        // Switch Category
        function switchCategory(categoryId) {
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.category === categoryId) {
                    btn.classList.add('active');
                }
            });
            
            menuSections.forEach(section => {
                section.classList.remove('active');
                if (section.id === categoryId) {
                    section.classList.add('active');
                }
            });
            
            currentCategory = categoryId;
        }

        // Render Menu Items
        function renderMenuItems() {
            Object.values(menuData).forEach(category => {
                if (category.id === 'favorites') return;
                
                const grid = document.getElementById(`${category.id}-grid`);
                if (!grid) return;
                
                grid.innerHTML = '';
                
                category.items.forEach(item => {
                    const isFavorite = favorites.includes(item.id);
                    const lowestPrice = Math.min(...item.prices.map(p => p.price));
                    
                    const card = document.createElement('div');
                    card.className = 'menu-item-card';
                    card.innerHTML = `
                        <div class="item-header">
                            <div class="item-title">
                                <h3 class="item-name">${item.name}</h3>
                                ${item.urduName ? `<p class="item-name-urdu urdu-font">${item.urduName}</p>` : ''}
                            </div>
                            <div class="item-price">${lowestPrice} PKR</div>
                        </div>
                        <div class="item-actions">
                            <button class="add-to-cart-btn" data-item-id="${item.id}">
                                <i class="fas fa-plus"></i> Add to Cart
                            </button>
                            <button class="favorite-btn ${isFavorite ? 'active' : ''}" data-item-id="${item.id}">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    `;
                    
                    grid.appendChild(card);
                });
            });
        }

        // Update Favorites
        function updateFavorites() {
            const favoritesGrid = document.getElementById('favorites-grid');
            if (!favoritesGrid) return;
            
            favoritesGrid.innerHTML = '';
            
            if (favorites.length === 0) {
                favoritesGrid.innerHTML = `
                    <div class="empty-favorites" style="grid-column: 1/-1; text-align: center; padding: 40px; color: #888;">
                        <i class="fas fa-heart" style="font-size: 3rem; margin-bottom: 20px; color: #c52c2c;"></i>
                        <h3>No favorites yet</h3>
                        <p>Click the heart icon on any menu item to add it here.</p>
                    </div>
                `;
                return;
            }
            
            const favoriteItems = [];
            Object.values(menuData).forEach(category => {
                if (category.id === 'favorites') return;
                
                category.items.forEach(item => {
                    if (favorites.includes(item.id)) {
                        favoriteItems.push({...item, category: category.id});
                    }
                });
            });
            
            favoriteItems.forEach(item => {
                const isFavorite = favorites.includes(item.id);
                const lowestPrice = Math.min(...item.prices.map(p => p.price));
                
                const card = document.createElement('div');
                card.className = 'menu-item-card';
                card.innerHTML = `
                    <div class="item-header">
                        <div class="item-title">
                            <h3 class="item-name">${item.name}</h3>
                            ${item.urduName ? `<p class="item-name-urdu urdu-font">${item.urduName}</p>` : ''}
                        </div>
                        <div class="item-price">${lowestPrice} PKR</div>
                    </div>
                    <div class="item-actions">
                        <button class="add-to-cart-btn" data-item-id="${item.id}">
                            <i class="fas fa-plus"></i> Add to Cart
                        </button>
                        <button class="favorite-btn ${isFavorite ? 'active' : ''}" data-item-id="${item.id}">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                `;
                
                favoritesGrid.appendChild(card);
            });
        }

        // Update Cart
        function updateCart() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="empty-cart" style="text-align: center; padding: 40px; color: #888;">
                        <i class="fas fa-shopping-cart" style="font-size: 3rem; margin-bottom: 20px;"></i>
                        <h3>Your cart is empty</h3>
                        <p>Add items from the menu</p>
                    </div>
                `;
                cartTotal.textContent = '0 PKR';
                return;
            }
            
            let total = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-header">
                        <h4 class="cart-item-name">${item.name}</h4>
                        <div class="cart-item-price">${itemTotal} PKR</div>
                    </div>
                    <div class="cart-item-options">
                        ${item.option ? `${item.option}` : 'Regular'}
                    </div>
                    <div class="cart-item-controls">
                        <div class="quantity-controls">
                            <button class="quantity-btn decrease-quantity" data-index="${index}">
                                <i class="fas fa-minus"></i>
                            </button>
                            <span class="quantity">${item.quantity}</span>
                            <button class="quantity-btn increase-quantity" data-index="${index}">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <button class="remove-item" data-index="${index}">
                            <i class="fas fa-trash"></i> Remove
                        </button>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            cartTotal.textContent = `${total} PKR`;
            localStorage.setItem('hayatCart', JSON.stringify(cart));
        }

        // Attach Event Listeners
        function attachEventListeners() {
            cartButton.addEventListener('click', () => {
                cartSidebar.classList.add('open');
            });
            
            closeCart.addEventListener('click', () => {
                cartSidebar.classList.remove('open');
            });
            
            closeModal.addEventListener('click', () => {
                itemModalOverlay.classList.remove('active');
            });
            
            cancelModal.addEventListener('click', () => {
                itemModalOverlay.classList.remove('active');
            });
            
            addToCartModal.addEventListener('click', () => {
                addItemToCart();
            });
            
            whatsappOrderBtn.addEventListener('click', sendWhatsAppOrder);
            
            document.addEventListener('click', (e) => {
                if (e.target.closest('.add-to-cart-btn')) {
                    const button = e.target.closest('.add-to-cart-btn');
                    const itemId = parseInt(button.dataset.itemId);
                    
                    // Check if item has only one price option
                    const item = findMenuItem(itemId);
                    if (item && item.prices.length === 1) {
                        // Single-price item: add directly to cart
                        addSinglePriceItemToCart(itemId);
                    } else {
                        // Multiple-price item: open modal
                        openItemModal(itemId);
                    }
                }
                
                if (e.target.closest('.favorite-btn')) {
                    const button = e.target.closest('.favorite-btn');
                    const itemId = parseInt(button.dataset.itemId);
                    toggleFavorite(itemId);
                }
                
                if (e.target.closest('.decrease-quantity')) {
                    const button = e.target.closest('.decrease-quantity');
                    const index = parseInt(button.dataset.index);
                    updateCartItemQuantity(index, -1);
                }
                
                if (e.target.closest('.increase-quantity')) {
                    const button = e.target.closest('.increase-quantity');
                    const index = parseInt(button.dataset.index);
                    updateCartItemQuantity(index, 1);
                }
                
                if (e.target.closest('.remove-item')) {
                    const button = e.target.closest('.remove-item');
                    const index = parseInt(button.dataset.index);
                    removeCartItem(index);
                }
            });
        }

        // Find menu item by ID
        function findMenuItem(itemId) {
            for (const category of Object.values(menuData)) {
                if (category.id === 'favorites') continue;
                
                const foundItem = category.items.find(i => i.id === itemId);
                if (foundItem) {
                    return foundItem;
                }
            }
            return null;
        }

        // Add single-price item directly to cart (FIX FOR SINGLE-PRICE ITEMS)
        function addSinglePriceItemToCart(itemId) {
            const item = findMenuItem(itemId);
            if (!item) return;
            
            // Single price item - get the only price option
            const priceOption = item.prices[0];
            
            const cartItem = {
                id: item.id,
                name: item.name,
                urduName: item.urduName,
                price: priceOption.price,
                quantity: 1,
                option: priceOption.label || 'Regular'
            };
            
            // Check if item already exists in cart with same options
            const existingIndex = cart.findIndex(cartItem => 
                cartItem.id === item.id && cartItem.option === priceOption.label
            );
            
            if (existingIndex !== -1) {
                cart[existingIndex].quantity += 1;
            } else {
                cart.push(cartItem);
            }
            
            updateCart();
            cartSidebar.classList.add('open');
        }

        // Open Item Modal (for items with multiple price options)
        function openItemModal(itemId) {
            const item = findMenuItem(itemId);
            if (!item) return;
            
            currentItem = item;
            selectedOptions = {};
            
            modalItemName.textContent = item.name;
            
            sizeOptions.innerHTML = '';
            typeOptions.innerHTML = '';
            
            // Check if item has size options
            const hasSizes = item.prices.length > 1;
            
            if (hasSizes) {
                sizeOptions.innerHTML = '<h4 class="option-title">Select Size</h4><div class="option-buttons" id="sizeButtons"></div>';
                const sizeButtons = document.getElementById('sizeButtons');
                
                item.prices.forEach(price => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = `${price.label} - ${price.price} PKR`;
                    button.dataset.type = 'size';
                    button.dataset.label = price.label;
                    button.dataset.price = price.price;
                    
                    button.addEventListener('click', () => {
                        document.querySelectorAll('#sizeButtons .option-btn').forEach(btn => {
                            btn.classList.remove('active');
                        });
                        
                        button.classList.add('active');
                        
                        selectedOptions.size = {
                            label: price.label,
                            price: price.price
                        };
                    });
                    
                    sizeButtons.appendChild(button);
                });
                
                if (sizeButtons.firstChild) {
                    sizeButtons.firstChild.click();
                }
            }
            
            // Check if item has type options
            const hasTypes = item.name.includes('White') || item.name.includes('Red') || 
                            item.name.includes('Achari') || item.name.includes('Jalfrezi');
            
            if (hasTypes) {
                const types = [];
                if (item.name.includes('White')) types.push('White');
                if (item.name.includes('Red')) types.push('Red');
                if (item.name.includes('Achari')) types.push('Achari');
                if (item.name.includes('Jalfrezi')) types.push('Jalfrezi');
                
                if (types.length > 0) {
                    typeOptions.innerHTML = '<h4 class="option-title">Select Type</h4><div class="option-buttons" id="typeButtons"></div>';
                    const typeButtons = document.getElementById('typeButtons');
                    
                    types.forEach(type => {
                        const button = document.createElement('button');
                        button.className = 'option-btn';
                        button.textContent = type;
                        button.dataset.type = 'type';
                        button.dataset.label = type;
                        
                        button.addEventListener('click', () => {
                            document.querySelectorAll('#typeButtons .option-btn').forEach(btn => {
                                btn.classList.remove('active');
                            });
                            
                            button.classList.add('active');
                            selectedOptions.type = type;
                        });
                        
                        typeButtons.appendChild(button);
                    });
                    
                    if (typeButtons.firstChild) {
                        typeButtons.firstChild.click();
                    }
                }
            }
            
            itemModalOverlay.classList.add('active');
        }

        // Add Item to Cart (from modal)
        function addItemToCart() {
            if (!currentItem) return;
            
            // For single-price items that opened modal (shouldn't happen but just in case)
            if (currentItem.prices.length === 1) {
                const priceOption = currentItem.prices[0];
                selectedOptions.size = {
                    label: priceOption.label,
                    price: priceOption.price
                };
            }
            
            // Get selected options
            const size = selectedOptions.size;
            if (!size) {
                alert('Please select a size');
                return;
            }
            
            const type = selectedOptions.type || '';
            
            const cartItem = {
                id: currentItem.id,
                name: currentItem.name,
                urduName: currentItem.urduName,
                price: size.price,
                quantity: 1,
                option: `${size.label}${type ? `, ${type}` : ''}`
            };
            
            const existingIndex = cart.findIndex(item => 
                item.id === cartItem.id && item.option === cartItem.option
            );
            
            if (existingIndex !== -1) {
                cart[existingIndex].quantity += 1;
            } else {
                cart.push(cartItem);
            }
            
            updateCart();
            itemModalOverlay.classList.remove('active');
            cartSidebar.classList.add('open');
        }

        // Update Cart Item Quantity
        function updateCartItemQuantity(index, change) {
            cart[index].quantity += change;
            
            if (cart[index].quantity < 1) {
                cart[index].quantity = 1;
            }
            
            updateCart();
        }

        // Remove Cart Item
        function removeCartItem(index) {
            cart.splice(index, 1);
            updateCart();
        }

        // Toggle Favorite
        function toggleFavorite(itemId) {
            const index = favorites.indexOf(itemId);
            
            if (index === -1) {
                favorites.push(itemId);
            } else {
                favorites.splice(index, 1);
            }
            
            localStorage.setItem('hayatFavorites', JSON.stringify(favorites));
            updateFavorites();
            
            document.querySelectorAll(`.favorite-btn[data-item-id="${itemId}"]`).forEach(btn => {
                if (index === -1) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        // Generate Customer Order Number
        function generateOrderNumber(name, roomTable) {
            // Extract first letter of name
            const firstLetter = name.trim().charAt(0).toUpperCase();
            
            // Extract room/table number or use 001 as default
            let roomNum = '001';
            const roomMatch = roomTable.match(/\d+/);
            if (roomMatch) {
                roomNum = String(roomMatch[0]).padStart(3, '0');
            }
            
            // Create customer identifier
            const customerId = `${firstLetter}${roomNum}`;
            
            // Get or create order count for this customer
            if (!customerOrderCounts[customerId]) {
                customerOrderCounts[customerId] = 1;
            } else {
                customerOrderCounts[customerId] += 1;
            }
            
            // Save to localStorage
            localStorage.setItem('hayatCustomerOrders', JSON.stringify(customerOrderCounts));
            
            // Return order number in format: #HAYAT-K001-1
            return `#HAYAT-${customerId}-${customerOrderCounts[customerId]}`;
        }

        // Send WhatsApp Order (COMPLETELY FIXED FOR ALL ITEMS)
        function sendWhatsAppOrder() {
            if (!customerName.value.trim()) {
                alert('Please enter your name');
                customerName.focus();
                return;
            }
            
            if (!customerRoomTable.value.trim()) {
                alert('Please enter your room or table number');
                customerRoomTable.focus();
                return;
            }
            
            if (cart.length === 0) {
                alert('Your cart is empty');
                return;
            }
            
            // Get current time
            const now = new Date();
            const orderTime = now.toLocaleDateString('en-PK', {
                day: 'numeric',
                month: 'short',
                year: 'numeric'
            }) + ', ' + now.toLocaleTimeString('en-PK', {
                hour: '2-digit',
                minute: '2-digit',
                hour12: true
            }).toLowerCase();
            
            // Generate order number
            const orderNumber = generateOrderNumber(customerName.value, customerRoomTable.value);
            
            // Create order message - COMPLETELY FIXED FORMAT
            let message = `*DIGITAL QR ORDER*\n`;
            message += ` Order No: ${orderNumber}\n`;
            message += ` Order Time: ${orderTime}\n`;
            message += `═══════════════════════════════\n`;
            
            // Customer information
            message += `• *Name:* ${customerName.value.toUpperCase()}\n`;
            
            if (customerPhone.value.trim()) {
                message += `• *Phone:* ${customerPhone.value}\n`;
            }
            
            message += `• *Room/Table/Address:* ${customerRoomTable.value}\n`;
            
            if (customerNotes.value.trim()) {
                message += `• *Special Instructions:* ${customerNotes.value}\n`;
            }
            
            message += `═══════════════════════════════\n`;
            
            // Order details
            message += `*ORDER*\n`;
            
            let totalItems = 0;
            let total = 0;
            let itemIndex = 1;
            
            // Group similar items together
            const groupedItems = {};
            
            cart.forEach(item => {
                const key = `${item.name}|${item.option}`;
                if (!groupedItems[key]) {
                    groupedItems[key] = {
                        name: item.name,
                        option: item.option,
                        quantity: 0,
                        price: item.price
                    };
                }
                groupedItems[key].quantity += item.quantity;
            });
            
            // List all grouped items
            Object.values(groupedItems).forEach(groupedItem => {
                const itemTotal = groupedItem.price * groupedItem.quantity;
                total += itemTotal;
                totalItems += groupedItem.quantity;
                
                // FIXED: Handle ALL option formats properly
                let displayText = '';
                
                // Check what type of option we have
                if (groupedItem.option.includes(', ')) {
                    // Items with both size and type like "Half, White"
                    const parts = groupedItem.option.split(', ');
                    if (parts.length === 2) {
                        // Format: "White Half x2"
                        displayText = `${parts[1]} ${parts[0]} x${groupedItem.quantity}`;
                    } else {
                        // Fallback for unexpected format
                        displayText = `${groupedItem.option} x${groupedItem.quantity}`;
                    }
                } else if (groupedItem.option === 'Regular' || 
                          groupedItem.option === 'Per Piece' || 
                          groupedItem.option === 'Glass' || 
                          groupedItem.option === 'Cup' || 
                          groupedItem.option === 'Basket' || 
                          groupedItem.option === 'Per KG') {
                    // For single items without size: "Roti x10", "Raita x2"
                    displayText = `x${groupedItem.quantity}`;
                } else if (groupedItem.option === 'Full' || 
                          groupedItem.option === 'Half' || 
                          groupedItem.option === 'Quarter' || 
                          groupedItem.option === 'Single' ||
                          groupedItem.option === 'Small' || 
                          groupedItem.option === 'Medium' || 
                          groupedItem.option === 'Large') {
                    // Items with only size: "Full x2", "Half x1"
                    displayText = `${groupedItem.option} x${groupedItem.quantity}`;
                } else {
                    // Fallback for any other format
                    displayText = `${groupedItem.option} x${groupedItem.quantity}`;
                }
                
                message += `${itemIndex}. ${groupedItem.name} ${displayText}\n`;
                itemIndex++;
            });
            
            message += `═══════════════════════════════\n`;
            
            // Bill amount
            message += `*Bill Amount*\n`;
            message += `• Total Items: ${totalItems}\n`;
            message += `• GRAND TOTAL: *${total} PKR*`;
            
            // Encode message for WhatsApp URL
            const encodedMessage = encodeURIComponent(message);
            const whatsappNumber = '+923219746660';
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            // Open WhatsApp
            window.open(whatsappUrl, '_blank');
            
            // Clear cart and form
            cart = [];
            localStorage.removeItem('hayatCart');
            customerName.value = '';
            customerPhone.value = '';
            customerRoomTable.value = '';
            customerNotes.value = '';
            
            // Update UI
            updateCart();
            cartSidebar.classList.remove('open');
            
            // Show thank you popup
            thankYouPopup.classList.add('active');
            
            setTimeout(() => {
                thankYouPopup.classList.remove('active');
            }, 5000);
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
